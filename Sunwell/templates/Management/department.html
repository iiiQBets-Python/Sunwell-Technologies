{% extends "Base/base.html" %}
{% load static %}
{% block title %} department {% endblock %}
{% block styles %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/Management/department.css' %}">
    <style>
      /* Add responsive styles */
      @media (max-width: 992px) {
          .table-wrapper {
              overflow-x: auto;
          }
          
          .custom-label {
              flex-direction: column;
              align-items: stretch;
          }
          
          .custom-label > div {
              margin-top: 10px;
          }
          
          .d-flex.justify-content-end.align-items-center {
              flex-direction: column;
              align-items: stretch !important;
          }
          
          .d-flex.input-group {
              width: 100% !important;
              margin-bottom: 10px;
          }
          
          .btn-primary {
              width: 100%;
          }
      }

      @media (max-width: 768px) {
          .entries-info {
              flex-direction: column;
              align-items: flex-start;
          }
          
          .pagination {
              margin-top: 10px;
          }
          
          .d-flex.justify-content-between.align-items-center.mt-3 {
              flex-direction: column;
              align-items: stretch !important;
          }
          
          .d-flex.justify-content-between.align-items-center.mt-3 > div {
              text-align: center;
              margin: 5px 0;
          }
          
          #adminUserModal .modal_departement {
              max-width: 95%;
              margin: 1.75rem auto;
          }
      }

      @media (max-width: 576px) {
          .entries-info, .pagination {
              justify-content: center;
              margin-top: 10px;
          }
          
          #adminUserModal .modal_departement {
              margin: 0.5rem;
          }
          
          .form-buttons {
              flex-direction: column;
          }
          
          .form-buttons .btn {
              width: 100%;
              margin-bottom: 10px;
          }
      }
  </style>
{% endblock styles %}

{% block content %} 
<div class="container mt-2 table-container fade-in">
    <div class="d-flex justify-content-end mb-1 p-4">
    </div>
    <div class="d-flex justify-content-between align-items-center custom-label mb-2" style="font-weight: bold; padding: 5px 10px; background-color: rgb(235, 235, 235);">
        <section class=" d-block custom-label mb-2" style="background-color: rgb(235, 235, 235);text-align: center;font-weight: bold; padding: 5px 0px">
            Departments<span id="records-info">(Records Found: 0, Selected: 0)</span>
        </section>
        <div class="d-flex justify-content-end align-items-center">
            <div class="d-flex input-group me-3" style="width: 200px;">
                <span class="input-group-text"><i class="fas fa-search"></i></span>
                <input type="text" id="searchBar" class="form-control" placeholder="Search here..">
            </div>
            <div class="d-flex">
              {% if data.role == 'Super Admin' or acc_db.dep_a %}
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#departmentModal">
                    Add Department
                </button>
              {% endif %}
            </div>
        </div> 
    </div>
    <div class="table-wrapper">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th><input type="checkbox" id="selectAll"></th>
                    <th scope="col">Department Name</th>
                    <th scope="col">Comm. Group</th>
                    {% if data.role == 'Super Admin' or acc_db.dep_e %}
                      <th scope="col">Actions</th>
                    {% endif %}
                </tr>
            </thead>
            <tbody id="form-data-table">
                {% for department in departments %}
                <tr>
                    <td><input type="checkbox" class="row-checkbox" name="comm_checkbox"></td>
                    <td>{{department.department_name}}</td>
                    <td>{{ department.commGroup.CommGroup_name }}</td>
                    {% if data.role == 'Super Admin' or acc_db.dep_e %}
                    <td>
                        <div class="dropdown">
                          <a class="dropdown-item btn-edit"  data-bs-toggle="edit_modal" data-bs-target="#editDeptModal-{{ department.id }}">
                            <i class="fas fa-edit"></i>
                          </a>
                        </div>
                    </td>
                    {% endif %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-between align-items-center mt-3">
        <div class="entries-info d-flex align-items-center">
            <span>Show</span>
            <select id="entriesPerPage" class="form-select d-inline-block mx-2 entriesPerPage">
                <option value="10" selected>10</option>
                <option value="15">15</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
            <span>entries per page</span>
        </div>
        <div>
            <small>Showing <span id="visible-entries">0</span> of <span id="total-entries">0</span> entries</small>
        </div>
        <nav aria-label="Page navigation" class="d-flex justify-content-end">
            <ul class="pagination">
                <li class="page-item" id="prev-page"><a class="page-link" href="#">Previous</a></li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item" id="next-page"><a class="page-link" href="#">Next</a></li>
            </ul>
        </nav>
    </div>
</div>

<!-- The Modal -->
<div class="modal fade" id="departmentModal" tabindex="-1" aria-labelledby="departmentModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal_departement">
      <div class="modal-content container-custom dep_custom">
          <!-- Modal Header -->
          <div class="modal-header dep_head">
              <h4 class="modal-title dep_title" id="adminUserModalLabel">Department and Settings</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <!-- Modal Body with Tabs -->
          <div class="modal-body dep_body">
            <form method="post" action="{% url 'department' %}" id="departmentForm">
              {% csrf_token %}
              <ul class="nav nav-tabs" id="myTab" role="tablist">
                  <li class="nav-item">
                      <a class="nav-link active" id="department-tab" data-bs-toggle="tab" href="#department" role="tab">Department Form</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" id="email-tab" data-bs-toggle="tab" href="#email" role="tab">Email Form</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" id="sms-tab" data-bs-toggle="tab" href="#sms" role="tab">SMS Form</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" id="whatsapp-tab" data-bs-toggle="tab" href="#whatsapp" role="tab">WhatsApp Form</a>
                  </li>
              </ul>

              <div class="tab-content mt-3" id="myTabContent">
                  <!-- Department Form -->
                  <div class="tab-pane fade show active" id="department" role="tabpanel">
                      <div class="row">
                        <div class="col-md-6 form-group">
                          <input type="text" class="form-control" id="departmentName" name="departmentName" maxlength="15" placeholder=" " required>
                          <label for="departmentName" class="form-label">Department Name*</label>
                        </div>
                        <div class="col-md-6 form-group">
                            <select class="form-select" id="commGroup" name="commGroup" placeholder=" " required>
                              <option value="">--Select--</option>
                                {% for group in groups %}
                                <option value="{{ group.CommGroup_code }}">{{ group.CommGroup_name }}</option>
                                {% endfor %}
                            </select>
                            <label for="commGroup" class="form-label">Comm. Group*</label>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="text" class="form-control" id="headerNote" name="headerNote" placeholder=" " >
                            <label for="headerNote" class="form-label">Header Note*</label>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="text" class="form-control" id="footerNote" name="footerNote" placeholder=" " >
                            <label for="footerNote" class="form-label">Footer Note</label>
                        </div>
                        <div class="col-md-12 form-group d-flex align-items-center ">
                          <h6 style="margin-right: 10px;">Report Date/Time Stamp:</h6>
                          <div id="status">
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="report-datetime-stamp" id="report-datetime-stamp-yes" value="Yes" >
                              <label class="form-check-label" for="report-datetime-stamp-yes">Yes</label>
                            </div>
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="report-datetime-stamp" id="report-datetime-stamp-no" value="No">
                              <label class="form-check-label" for="report-datetime-stamp-no">No</label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-buttons mt-3">
                          <button class="btn btn-primary" type="button" onclick="switchTab('#email-tab')">Next</button>
                      </div>
                  </div>

                  <!-- Email Form -->
                  <div class="tab-pane fade" id="email" role="tabpanel">
                      <div class="row">
                        <div class="col-md-4 form-group">
                          <input type="text" class="form-control" name="email_alert" id="email_alert" value="{{ department.email_alert }}" placeholder=" ">
                          <label for="email_alert" class="form-label">Email Alert Delay</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="time" class="form-control" name="email_time" id="email_time" value="{{ department.email_time|date:'H:i' }}" placeholder=" ">
                          <label for="email_time" class="form-label">Email Time</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_1" id="email_address_1" value="{{ department.alert_email_address_1 }}" placeholder=" ">
                          <label for="email_address_1" class="form-label">Alert Email Address 1*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_2" id="email_address_2" value="{{ department.alert_email_address_2 }}" placeholder=" ">
                          <label for="email_address_2" class="form-label">Alert Email Address 2*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_3" id="email_address_3" value="{{ department.alert_email_address_3 }}" placeholder=" ">
                          <label for="email_address_3" class="form-label">Alert Email Address 3*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_4" id="email_address_4" value="{{ department.alert_email_address_4 }}" placeholder=" ">
                          <label for="email_address_4" class="form-label">Alert Email Address 4*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_5" id="email_address_5" value="{{ department.alert_email_address_5 }}" placeholder=" ">
                          <label for="email_address_5" class="form-label">Alert Email Address 5*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_6" id="email_address_6" value="{{ department.alert_email_address_6 }}" placeholder=" ">
                          <label for="email_address_6" class="form-label">Alert Email Address 6*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_7" id="email_address_7" value="{{ department.alert_email_address_7 }}" placeholder=" ">
                          <label for="email_address_7" class="form-label">Alert Email Address 7*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_8" id="email_address_8" value="{{ department.alert_email_address_8 }}" placeholder=" ">
                          <label for="email_address_8" class="form-label">Alert Email Address 8*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_9" id="email_address_9" value="{{ department.alert_email_address_9 }}" placeholder=" ">
                          <label for="email_address_9" class="form-label">Alert Email Address 9*</label>
                        </div>
                        <div class="col-md-4 form-group">
                          <input type="email" class="form-control" name="email_address_10" id="email_address_10" value="{{ department.alert_email_address_10 }}" placeholder=" ">
                          <label for="email_address_10" class="form-label">Alert Email Address 10*</label>
                        </div>
                      </div>
                      <div class="form-buttons mt-3">
                          <button class="btn btn-secondary" type="button" onclick="switchTab('#department-tab')">Back</button>
                          <button class="btn btn-primary" type="button" onclick="switchTab('#sms-tab')">Next</button>
                      </div>
                  </div>

                  <!-- SMS Form -->
                  <div class="tab-pane fade" id="sms" role="tabpanel">
                      <div class="row">
                        <div class="col-md-12 form-group d-flex align-items-center ">
                          <h6 style="margin-right: 10px;">SMS System:</h6>
                          <div id="status">
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="sms_status" id="sms-enable1" value="Enable" checked>
                              <label class="form-check-label" for="sms-enable1">Enable</label>
                            </div>
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="sms_status" id="sms-disable1" value="Disable">
                              <label class="form-check-label" for="sms-disable1">Disable</label>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6 form-group">
                          <input type="text" class="form-control" name="sms_delay" id="sms_delay" placeholder=" " >
                          <label for="sms_delay" class="form-label">SMS Alert Delay*</label>
                        </div>
                        <div class="col-md-6 form-group">
                          <input type="time" class="form-control" name="sms_time" id="sms_time" placeholder=" " >
                          <label for="sms_time" class="form-label">SMS Time</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user1" id="mobile_user1" placeholder=" " >
                          <label for="mobile_user1" class="form-label">Mobile User Name 1</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no1" id="mobile_no1" placeholder=" ">
                          <label for="mobile_no1" class="form-label">Mobile No 1</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user2" id="mobile_user2" placeholder=" ">
                          <label for="mobile_user2" class="form-label">Mobile User Name 2</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no2" id="mobile_no2" placeholder=" ">
                          <label for="mobile_no2" class="form-label">Mobile No 2</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user3" id="mobile_user3" placeholder=" ">
                          <label for="mobile_user3" class="form-label">Mobile User Name 3</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no3" id="mobile_no3" placeholder=" ">
                          <label for="mobile_no3" class="form-label">Mobile No 3</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user4" id="mobile_user4" placeholder=" ">
                          <label for="mobile_user4" class="form-label">Mobile User Name 4</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no4" id="mobile_no4" placeholder=" ">
                          <label for="mobile_no4" class="form-label">Mobile No 4</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user5" id="mobile_user5" placeholder=" ">
                          <label for="mobile_user5" class="form-label">Mobile User Name 5</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no5" id="mobile_no5" placeholder=" ">
                          <label for="mobile_no5" class="form-label">Mobile No 5</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user6" id="mobile_user6" placeholder=" ">
                          <label for="mobile_user6" class="form-label">Mobile User Name 6</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no6" id="mobile_no6" placeholder=" ">
                          <label for="mobile_no6" class="form-label">Mobile No 6</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user7" id="mobile_user7" placeholder=" ">
                          <label for="mobile_user7" class="form-label">Mobile User Name 7</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no7" id="mobile_no7" placeholder=" ">
                          <label for="mobile_no7" class="form-label">Mobile No 7</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user8" id="mobile_user8" placeholder=" ">
                          <label for="mobile_user8" class="form-label">Mobile User Name 8</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no8" id="mobile_no8" placeholder=" ">
                          <label for="mobile_no8" class="form-label">Mobile No 8</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user9" id="mobile_user9" placeholder=" ">
                          <label for="mobile_user9" class="form-label">Mobile User Name 9</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no9" id="mobile_no9" placeholder=" ">
                          <label for="mobile_no9" class="form-label">Mobile No9</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_user10" id="mobile_user10" placeholder=" ">
                          <label for="mobile_user10" class="form-label">Mobile User Name 10</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="mobile_no10" id="mobile_no10" placeholder=" ">
                          <label for="mobile_no10" class="form-label">Mobile No 10</label>
                        </div>
  
                      </div>
                      <div class="form-buttons mt-3">
                          <button class="btn btn-secondary" type="button" onclick="switchTab('#email-tab')">Back</button>
                          <button class="btn btn-primary" type="button" onclick="switchTab('#whatsapp-tab')">Next</button>
                      </div>
                  </div>

                  <!-- WhatsApp Form -->
                  <div class="tab-pane fade" id="whatsapp" role="tabpanel">
                    <div class="row">
                      <div class="col-md-12 form-group d-flex align-items-center ">
                        <h6 style="margin-right: 10px;">Whatsapp Message System:</h6>
                        <div id="status">
                          <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="whatsapp_status" id="whatsapp-enable1" value="Enable" checked>
                            <label class="form-check-label" for="whatsapp-enable1">Enable</label>
                          </div>
                          <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="whatsapp_status" id="whatsapp-disable1" value="Disable">
                            <label class="form-check-label" for="whatsapp-disable1">Disable</label>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6 form-group">
                        <input type="text" class="form-control" name="whatsapp_delay" id="whatsapp_delay" placeholder=" ">
                        <label for="whatsapp_delay" class="form-label">WhatsApp Message Alert Delay*</label>
                      </div>
                      <div class="col-md-6 form-group">
                        <input type="time" class="form-control" name="whatsapp_time" id="whatsapp_time" placeholder=" ">
                        <label for="whatsapp_time" class="form-label">Whatsapp Message Time</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user1" id="whatsapp_user1" placeholder=" ">
                        <label for="whatsapp_user1" class="form-label">Whatsapp User Name 1</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no1" id="whatsapp_no1" placeholder=" ">
                        <label for="whatsapp_no1" class="form-label">Whatsapp No 1</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user2" id="whatsapp_user2" placeholder=" ">
                        <label for="whatsapp_user2" class="form-label">Whatsapp User Name 2</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no2" id="whatsapp_no2" placeholder=" ">
                        <label for="whatsapp_no2" class="form-label">Whatsapp No 2</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user3" id="whatsapp_user3" placeholder=" ">
                        <label for="whatsapp_user3" class="form-label">Whatsapp User Name 3</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no3" id="whatsapp_no3" placeholder=" ">
                        <label for="whatsapp_no3" class="form-label">Whatsapp No 3</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user4" id="whatsapp_user4" placeholder=" ">
                        <label for="whatsapp_user4" class="form-label">Whatsapp User Name 4</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no4" id="whatsapp_no4" placeholder=" ">
                        <label for="whatsapp_no4" class="form-label">Whatsapp No 4</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user5" id="whatsapp_user5" placeholder=" ">
                        <label for="whatsapp_user5" class="form-label">Whatsapp User Name 5</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no5" id="whatsapp_no5" placeholder=" ">
                        <label for="whatsapp_no5" class="form-label">whatsapp No 5</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user6" id="whatsapp_user6" placeholder=" ">
                        <label for="whatsapp_user6" class="form-label">Whatsapp User Name 6</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no6" id="whatsapp_no6" placeholder=" ">
                        <label for="whatsapp_no6" class="form-label">Whatsapp No 6</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user7" id="whatsapp_user7" placeholder=" ">
                        <label for="whatsapp_user7" class="form-label">Whatsapp User Name 7</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no7" id="whatsapp_no7" placeholder=" ">
                        <label for="whatsapp_no7" class="form-label">Whatsapp No 7</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user8" id="whatsapp_user8" placeholder=" ">
                        <label for="whatsapp_user8" class="form-label">Whatsapp User Name 8</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no8" id="whatsapp_no8" placeholder=" ">
                        <label for="whatsapp_no8" class="form-label">Whatsapp No 8</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user9" id="whatsapp_user9" placeholder=" ">
                        <label for="whatsapp_user9" class="form-label">Whatsapp User Name 9</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no9" id="whatsapp_no9" placeholder=" ">
                        <label for="whatsapp_no9" class="form-label">Whatsapp No 9</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_user10" id="whatsapp_user10" placeholder=" ">
                        <label for="whatsapp_user10" class="form-label">Whatsapp User Name 10</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="whatsapp_no10" id="whatsapp_no10" placeholder=" ">
                        <label for="whatsapp_no10" class="form-label">Whatsapp No 10</label>
                      </div>
  
                    </div>
                    <div class="form-buttons mt-3">
                        <button class="btn btn-secondary" type="button" onclick="switchTab('#sms-tab')">Back</button>
                    </div>
                  </div>
              </div>

              <div class="form-buttons mt-3 text-center">
                  <button class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>
                  <button class="btn btn-outline-success" type="submit">Save</button>
              </div>
            </form>
          </div>
      </div>
  </div>
</div>

<script>
  function switchTab(tabId) {
    const tabTrigger = new bootstrap.Tab(document.querySelector(tabId));
    tabTrigger.show();
  }
</script>

{% for department in departments %}
<div class="modal fade" id="editDeptModal-{{ department.id }}" tabindex="-1" aria-labelledby="editDeptModalLabel{{ department.id }}" aria-hidden="true">
  <div class="modal-dialog modal-lg modal_departement">
      <div class="modal-content container-custom dep_custom">
          <div class="modal-header dep_head">
              <h4 class="modal-title dep_title" id="editDeptModalLabel">Edit Department Form</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          
          <div class="modal-body dep_body">
            <form id="editDepartmentForm" method="post" action="{% url 'edit_department' department.id %}">
              {% csrf_token %}
                <ul class="nav nav-tabs" id="myTab{{ department.id }}" role="tablist">
                  <li class="nav-item" role="presentation">
                      <a class="nav-link active" id="edit-department-tab-{{ department.id }}" data-bs-toggle="tab" href="#edit-department-{{ department.id }}" role="tab" aria-controls="edit-department-{{ department.id }}" aria-selected="true"> Department</a>
                  </li>
                  <li class="nav-item" role="presentation">
                      <a class="nav-link" id="edit-email-tab-{{ department.id }}" data-bs-toggle="tab" href="#edit-email-{{ department.id }}" role="tab" aria-controls="edit-email-{{ department.id }}" aria-selected="false"> Email</a>
                  </li>
                  <li class="nav-item" role="presentation">
                      <a class="nav-link" id="edit-sms-tab-{{ department.id }}" data-bs-toggle="tab" href="#edit-sms-{{ department.id }}" role="tab" aria-controls="edit-sms-{{ department.id }}" aria-selected="false"> SMS</a>
                  </li>
                  <li class="nav-item" role="presentation">
                      <a class="nav-link" id="edit-whatsapp-tab-{{ department.id }}" data-bs-toggle="tab" href="#edit-whatsapp-{{ department.id }}" role="tab" aria-controls="edit-whatsapp-{{ department.id }}" aria-selected="false"> WhatsApp</a>
                  </li>
                </ul>

                <div class="tab-content mt-3" id="myTabContent{{ department.id }}">

                  <div class="tab-pane fade show active" id="edit-department-{{ department.id }}" role="tabpanel" aria-labelledby="edit-department-tab-{{ department.id }}">
                    
                      <div class="row">
                          <div class="col-md-6 form-group">
                              <input type="text" class="form-control" name="edit_dept_name" id="edit_dept_name" value="{{ department.department_name }}" maxlength="50" required>
                              <label for="edit_dept_name" class="form-label">Dept. Name</label>
                          </div>
                          <div class="col-md-6 form-group">
                            <select class="form-select" id="edit_commGroup" value="{{ department.commGroup }}" name="edit_commGroup" placeholder=" " required>
                                {% for group in groups %}
                                <option value="{{ group.CommGroup_name }}" {% if group.CommGroup_name == department.commGroup.CommGroup_name %}selected{% endif %}>{{ group.CommGroup_name }}</option>
                                {% endfor %}
                            </select>
                            <label for="edit_commGroup" class="form-label">Comm. Group*</label>
                        </div>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="text" class="form-control" id="edit_headerNote" name="edit_headerNote" value="{{ department.header_note }}" placeholder=" " required>
                            <label for="edit_headerNote" class="form-label">Header Note*</label>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="text" class="form-control" id="edit_footerNote" name="edit_footerNote" value="{{ department.footer_note }}" placeholder=" " required>
                            <label for="edit_footerNote" class="form-label">Footer Note</label>
                        </div>
                        <div class="col-md-12 form-group d-flex align-items-center ">
                          <h6 style="margin-right: 10px;">Report Date/Time Stamp:</h6>
                          <div id="status">
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="edit_report_datetime_stamp" id="report-datetime-stamp-yes-{{ department.id }}" value="True"
                              {% if department.report_datetime_stamp %} checked {% endif %}>
                              <label class="form-check-label" for="report-datetime-stamp-yes-{{ department.id }}">Yes</label>
                          </div>
                          <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="edit_report_datetime_stamp" id="report-datetime-stamp-no-{{ department.id }}" value="False"
                              {% if not department.report_datetime_stamp %} checked {% endif %}>
                              <label class="form-check-label" for="report-datetime-stamp-no-{{ department.id }}">No</label>
                          </div>
                        </div>
                      </div>
                      <div class="form-buttons mt-3">
                        <button class="btn btn-primary" type="button" onclick="switchTab('#edit-email-tab-{{ department.id }}')">Next</button>
                      </div>
                  </div>

                  <div class="tab-pane fade" id="edit-email-{{ department.id }}" role="tabpanel" aria-labelledby="edit-email-tab-{{ department.id }}">
                    <div class="row">
                      <div class="col-md-4 form-group">
                        <input type="text" class="form-control" name="edit_email_alert" id="edit_email_alert" value="{{ department.email_alert }}" placeholder=" " >
                        <label for="edit_email_alert" class="form-label">Email Alert Delay</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="time" class="form-control" name="edit_email_time" id="edit_email_time" value="{{ department.email_time|date:'H:i' }}" placeholder=" " >
                        <label for="edit_email_time" class="form-label">Email Time</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_1" id="edit_email_address_1" value="{{ department.alert_email_address_1 }}" placeholder=" " >
                        <label for="edit_email_address_1" class="form-label">Alert Email Address 1*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_2" id="edit_email_address_2" value="{{ department.alert_email_address_2 }}" placeholder=" " >
                        <label for="edit_email_address_2" class="form-label">Alert Email Address 2*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_3" id="edit_email_address_3" value="{{ department.alert_email_address_3 }}" placeholder=" " >
                        <label for="edit_email_address_3" class="form-label">Alert Email Address 3*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_4" id="edit_email_address_4" value="{{ department.alert_email_address_4 }}" placeholder=" " >
                        <label for="edit_email_address_4" class="form-label">Alert Email Address 4*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_5" id="edit_email_address_5" value="{{ department.alert_email_address_5 }}" placeholder=" " >
                        <label for="edit_email_address_5" class="form-label">Alert Email Address 5*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_6" id="edit_email_address_6" value="{{ department.alert_email_address_6 }}" placeholder=" " >
                        <label for="edit_email_address_6" class="form-label">Alert Email Address 6*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_7" id="edit_email_address_7" value="{{ department.alert_email_address_7 }}" placeholder=" " >
                        <label for="edit_email_address_7" class="form-label">Alert Email Address 7*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_8" id="edit_email_address_8" value="{{ department.alert_email_address_8 }}" placeholder=" " >
                        <label for="edit_email_address_8" class="form-label">Alert Email Address 8*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_9" id="edit_email_address_9" value="{{ department.alert_email_address_9 }}" placeholder=" " >
                        <label for="edit_email_address_9" class="form-label">Alert Email Address 9*</label>
                      </div>
                      <div class="col-md-4 form-group">
                        <input type="email" class="form-control" name="edit_email_address_10" id="edit_email_address_10" value="{{ department.alert_email_address_10 }}" placeholder=" " >
                        <label for="edit_email_address_10" class="form-label">Alert Email Address 10*</label>
                      </div>
                      <div class="form-buttons mt-3">
                        <button class="btn btn-secondary" type="button" onclick="switchTab('#edit-department-tab-{{ department.id }}')">Back</button>
                        <button class="btn btn-primary" type="button" onclick="switchTab('#edit-sms-tab-{{ department.id }}')">Next</button>
                      </div>
                    </div> 
                  </div>

                  <div class="tab-pane fade" id="edit-sms-{{ department.id }}" role="tabpanel" aria-labelledby="edit-sms-tab-{{ department.id }}">
                    <div class="row">
                      <div class="col-md-12 form-group d-flex align-items-center">
                        <h6 style="margin-right: 10px;">SMS System:</h6>
                        <div id="status">
                          <div class="form-check form-check-inline">
                            <input
                              class="form-check-input"
                              type="radio"
                              name="edit_sms_status"
                              id="sms-enable-{{ department.id }}"
                              value="Enable"
                              {% if department.sms_alert %}
                                checked
                              {% endif %}
                            />
                            <label class="form-check-label" for="sms-enable-{{ department.id }}">Enable</label>
                          </div>
                          <div class="form-check form-check-inline">
                            <input
                              class="form-check-input"
                              type="radio"
                              name="edit_sms_status"
                              id="sms-disable-{{ department.id }}"
                              value="Disable"
                              {% if not department.sms_alert %}
                                checked
                              {% endif %}
                            />
                            <label class="form-check-label" for="sms-disable-{{ department.id }}">Disable</label>
                          </div>
                        </div>
                      </div>
                   
                  
                      <div class="col-md-6 form-group">
                        <input type="text" class="form-control" name="edit_sms_delay" id="edit_sms_delay"  value="" placeholder=" ">
                        <label for="edit_sms_delay" class="form-label">SMS Alert Delay*</label>
                      </div>
                      <div class="col-md-6 form-group">
                        <input type="time" class="form-control" name="edit_sms_time" id="edit_sms_time"  value="{{ department.sms_time|time:'H:i' }}" placeholder=" ">
                        <label for="edit_sms_time" class="form-label">SMS Time</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user1" id="edit_mobile_user1"  value="{{ department.user1 }}" placeholder=" ">
                        <label for="edit_mobile_user1" class="form-label">Mobile User Name 1</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no1" id="edit_mobile_no1"  value="{{ department.user1_num }}" placeholder=" ">
                        <label for="edit_mobile_no1" class="form-label">Mobile No 1</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user2" id="edit_mobile_user2"  value="{{ department.user2 }}" placeholder=" ">
                        <label for="edit_mobile_user2" class="form-label">Mobile User Name 2</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no2" id="edit_mobile_no2"  value="{{ department.user2_num }}" placeholder=" ">
                        <label for="edit_mobile_no2" class="form-label">Mobile No 2</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user3" id="edit_mobile_user3"  value="{{ department.user3 }}" placeholder=" ">
                        <label for="edit_mobile_user3" class="form-label">Mobile User Name 3</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no3" id="edit_mobile_no3"  value="{{ department.user3_num }}" placeholder=" ">
                        <label for="edit_mobile_no3" class="form-label">Mobile No 3</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user4" id="edit_mobile_user4"  value="{{ department.user4 }}" placeholder=" ">
                        <label for="edit_mobile_user4" class="form-label">Mobile User Name 4</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no4" id="edit_mobile_no4"  value="{{ department.user4_num }}" placeholder=" ">
                        <label for="edit_mobile_no4" class="form-label">Mobile No 4</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user5" id="edit_mobile_user5"  value="{{ department.user5 }}" placeholder=" ">
                        <label for="edit_mobile_user5" class="form-label">Mobile User Name 5</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no5" id="edit_mobile_no5"  value="{{ department.user5_num }}" placeholder=" ">
                        <label for="edit_mobile_no5" class="form-label">Mobile No 5</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user6" id="edit_mobile_user6"  value="{{ department.user6 }}" placeholder=" ">
                        <label for="edit_mobile_user6" class="form-label">Mobile User Name 6</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no6" id="edit_mobile_no6"  value="{{ department.user6_num }}" placeholder=" ">
                        <label for="edit_mobile_no6" class="form-label">Mobile No 6</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user7" id="edit_mobile_user7"  value="{{ department.user7 }}" placeholder=" ">
                        <label for="edit_mobile_user7" class="form-label">Mobile User Name 7</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no7" id="edit_mobile_no7"  value="{{ department.user7_num }}" placeholder=" ">
                        <label for="edit_mobile_no7" class="form-label">Mobile No 7</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user8" id="edit_mobile_user8"  value="{{ department.user8 }}" placeholder=" ">
                        <label for="edit_mobile_user8" class="form-label">Mobile User Name 8</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no8" id="edit_mobile_no8"  value="{{ department.user8_num }}" placeholder=" ">
                        <label for="edit_mobile_no8" class="form-label">Mobile No 8</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user9" id="edit_mobile_user9"  value="{{ department.user9 }}" placeholder=" ">
                        <label for="mobile_user9" class="form-label">Mobile User Name 9</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no9" id="edit_mobile_no9"  value="{{ department.user9_num }}" placeholder=" ">
                        <label for="edit_mobile_no9" class="form-label">Mobile No9</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="text" class="form-control" name="edit_mobile_user10" id="edit_mobile_user10"  value="{{ department.user10 }}" placeholder=" ">
                        <label for="edit_mobile_user10" class="form-label">Mobile User Name 10</label>
                      </div>
                      <div class="col-md-3 form-group">
                        <input type="number" class="form-control" name="edit_mobile_no10" id="edit_mobile_no10"  value="{{ department.user10_num }}" placeholder=" ">
                        <label for="edit_mobile_no10" class="form-label">Mobile No 10</label>
                      </div>
                      <div class="form-buttons mt-3">
                        <button class="btn btn-secondary" type="button" onclick="switchTab('#edit-email-tab-{{ department.id }}')">Back</button>
                        <button class="btn btn-primary" type="button" onclick="switchTab('#edit-whatsapp-tab-{{ department.id }}')">Next</button>
                      </div>
                    </div>
                  </div>

                  <div class="tab-pane fade" id="edit-whatsapp-{{ department.id }}" role="tabpanel" aria-labelledby="edit-whatsapp-tab-{{ department.id }}">
                    <div class="container">
                      <div class="row">
                        <div class="col-md-12 form-group d-flex align-items-center ">
                          <h6 style="margin-right: 10px;">Whatsapp Message System:</h6>
                          <div id="status">
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="edit_whatsapp_status" id="edit_whatsapp-enable1" value="Enable" checked>
                              <label class="form-check-label" for="whatsapp-enable1">Enable</label>
                            </div>
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="edit_whatsapp_status" id="edit_whatsapp-disable1" value="Disable">
                              <label class="form-check-label" for="whatsapp-disable1">Disable</label>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_delay" id="edit_whatsapp_delay" placeholder=" ">
                          <label for="edit_whatsapp_delay" class="form-label">WhatsApp Message Alert Delay*</label>
                        </div>
                        <div class="col-md-6 form-group">
                          <input type="time" class="form-control" name="edit_whatsapp_time" id="edit_whatsapp_time" placeholder=" ">
                          <label for="edit_whatsapp_time" class="form-label">Whatsapp Message Time</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user1" id="edit_whatsapp_user1" placeholder=" ">
                          <label for="edit_whatsapp_user1" class="form-label">Whatsapp User Name 1</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no1" id="edit_whatsapp_no1" placeholder=" ">
                          <label for="edit_whatsapp_no1" class="form-label">Whatsapp No 1</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user2" id="edit_whatsapp_user2" placeholder=" ">
                          <label for="edit_whatsapp_user2" class="form-label">Whatsapp User Name 2</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no2" id="edit_whatsapp_no2" placeholder=" ">
                          <label for="edit_whatsapp_no2" class="form-label">Whatsapp No 2</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user3" id="edit_whatsapp_user3" placeholder=" ">
                          <label for="edit_whatsapp_user3" class="form-label">Whatsapp User Name 3</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no3" id="edit_whatsapp_no3" placeholder=" ">
                          <label for="edit_whatsapp_no3" class="form-label">Whatsapp No 3</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user4" id="edit_whatsapp_user4" placeholder=" ">
                          <label for="edit_whatsapp_user4" class="form-label">Whatsapp User Name 4</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no4" id="edit_whatsapp_no4" placeholder=" ">
                          <label for="edit_whatsapp_no4" class="form-label">Whatsapp No 4</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="whatsapp_user5" id="edit_whatsapp_user5" placeholder=" ">
                          <label for="whatsapp_user5" class="form-label">Whatsapp User Name 5</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no5" id="edit_whatsapp_no5" placeholder=" ">
                          <label for="edit_whatsapp_no5" class="form-label">whatsapp No 5</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user6" id="edit_whatsapp_user6" placeholder=" ">
                          <label for="edit_whatsapp_user6" class="form-label">Whatsapp User Name 6</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no6" id="edit_whatsapp_no6" placeholder=" ">
                          <label for="edit_whatsapp_no6" class="form-label">Whatsapp No 6</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user7" id="edit_whatsapp_user7" placeholder=" ">
                          <label for="edit_whatsapp_user7" class="form-label">Whatsapp User Name 7</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no7" id="edit_whatsapp_no7" placeholder=" ">
                          <label for="edit_whatsapp_no7" class="form-label">Whatsapp No 7</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user8" id="edit_whatsapp_user8" placeholder=" ">
                          <label for="edit_whatsapp_user8" class="form-label">Whatsapp User Name 8</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no8" id="edit_whatsapp_no8" placeholder=" ">
                          <label for="edit_whatsapp_no8" class="form-label">Whatsapp No 8</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user9" id="edit_whatsapp_user9" placeholder=" ">
                          <label for="edit_whatsapp_user9" class="form-label">Whatsapp User Name 9</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no9" id="edit_whatsapp_no9" placeholder=" ">
                          <label for="edit_whatsapp_no9" class="form-label">Whatsapp No 9</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_user10" id="edit_whatsapp_user10" placeholder=" ">
                          <label for="edit_whatsapp_user10" class="form-label">Whatsapp User Name 10</label>
                        </div>
                        <div class="col-md-3 form-group">
                          <input type="text" class="form-control" name="edit_whatsapp_no10" id="edit_whatsapp_no10" placeholder=" ">
                          <label for="edit_whatsapp_no10" class="form-label">Whatsapp No 10</label>
                        </div>
                        <div class="form-buttons mt-3">
                          <button class="btn btn-secondary" type="button" onclick="switchTab('#edit-sms-tab-{{ department.id }}')">Back</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-buttons mt-3 text-center">
                  <button class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>
                  <button class="btn btn-outline-success" type="submit">Save</button>
                </div>
            </form> 
          </div> 
      </div>
  </div>
</div>

{% endfor %}


<script>
  document.querySelectorAll('.btn-edit').forEach(button => {
  button.addEventListener('click', function() {
      const modalId = this.getAttribute('data-bs-target');
      const modal = document.querySelector(modalId);
      const modalInstance = new bootstrap.Modal(modal);
      modalInstance.show();
  });
});
</script>

{% block scripts %}
  {{ block.super }}
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  <script src="{% static 'js/Management/department.js' %}"></script>
{% endblock %}
{% endblock content %}
<script>
  
document.getElementById('departmentModal').addEventListener('hidden.bs.modal', function (e) {
    // Reset each form by its ID
    document.getElementById('deptForm').reset();
    document.getElementById('emailForm').reset();
    document.getElementById('smsForm').reset();
    document.getElementById('whatsappForm').reset();
    
    // Remove 'filled' class from inputs and selects
    const inputs = document.querySelectorAll(".form-control, .form-select");
    inputs.forEach(input => input.classList.remove("filled"));
});

</script>